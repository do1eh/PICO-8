pico-8 cartridge // http://www.pico-8.com
version 43
__lua__
function _init()
  palt(0,false)
  palt(2,true)
  x = 10
  y = 40
  spiegeln=false
  dy = 0
  gravitation=0.4
  sprungkraft=-4
end

function _update()
 dy += gravitation
 y += dy
 
 if dy > 0 then
       if is_solid(x + 1, y + 8) or is_solid(x + 6, y + 8) then
       local tile_y = flr((y + 7) / 8)
       y = tile_y * 8 
       dy = 0
    end
  end


if btn(➡️) then
   local block=mget(flr((x+8)/8),flr(y/8))
   if not fget(block,0) then 
    x=x+1
   end
   spiegeln=false
end   
if btn(⬅️) then
   x=x-1
   spiegeln=true
end

 if btnp(⬆️) and dy == 0 and is_solid(x + 1, y + 8) then 
    dy = sprungkraft
  end


end

function _draw()
cls()
map()
spr(1,x,y,1,1,spiegeln)
end
-->8
--sprung

function is_solid(px, py)
    local tile_x = flr(px / 8)
    local tile_y = flr((py + 7) / 8) 
    local sprite_id = mget(tile_x, tile_y)
   return fget(sprite_id, 0)
end

__gfx__
00000000222222220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000222bb2220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070022b77b220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000227077220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000229999920000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070026bb32220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000227b62220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000299244220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000cccccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000cccccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000cccccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000cccccccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000cc3333cc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000c333333c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000003333333c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000333333330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3333333344944444cccccccccccccccc333333330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4334433344444994cccccccccccccccc3333333c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4344444449949444cccccccccc7777ccc333333c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4444444444444444ccccccccc777777ccc4444cc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4944944449449444cccccccc77777777cc4444cc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4444444444444444cccccccc7777777cccc44ccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4994449449944494ccccccccc7777cccccc44ccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4444444444444444ccccccccccccccccccc44ccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__gff__
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
3232323232323232323232323232323231313131313131313434343434343434343434343434343400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3232333232323232323233323232323231313131313131313434343434343434343434343434343400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3232323232323332323224323232323231313131313131313434343434343434343434343434343400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3232323232323232323234323232323231313131313131313434343434343434343434343434343400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3232323232323232323030303030303031313131313131313434343434343434343434343434343400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3232323232323230303131313131313131313131313131313434343434343434343434343434343400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3030303030303031313131313131313131313131313131313434343434343434343434343434343400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3131313131313131313131313131313131313131313131313434343434343434343434343434343400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3131313131313131313131313131313131313131313131313434343434343434343434343434343400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3131313131313131313131313131313131313131313131313434343434343434343434343434343400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3131313131313131313131313131313131313131313131313434343434343434343434343434343400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3131313131313131313131313131313131313131313131313434343434343434343434343434343400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3131313131313131313131313131313131313131313131313434343434343434343434343434343400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
